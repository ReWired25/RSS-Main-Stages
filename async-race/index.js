(()=>{"use strict";var e={373:(e,t,r)=>{r.r(t)},158:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createWinnerData=t.createCarData=void 0,t.createCarData=(e,t)=>({name:e,color:t}),t.createWinnerData=(e,t,r)=>r?{id:r,wins:e,time:t}:{wins:e,time:t}},349:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWinner=t.deleteWinner=t.createWinner=t.getSpecificWinner=t.getWinnersForPage=t.getNumOfWinners=t.getAllWinners=t.startCarDrive=t.startStopCarEngine=t.updateCar=t.deleteCar=t.createCar=t.getSpecificCar=t.getNumOfCars=t.getCarsForPage=t.getAllCars=void 0;const i=r(60),o=r(158),s=a(r(750));t.getAllCars=()=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i.Server.URL}garage`);return yield e.json()}catch(e){return(0,s.default)()}})),t.getCarsForPage=(e=1)=>n(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${i.Server.URL}garage?_page=${e}&_limit=7`),r=yield t.json();return r&&r.length||(0,s.default)(i.ErrorDataStatus.invalidContent),r}catch(e){return(0,s.default)()}})),t.getNumOfCars=()=>n(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${i.Server.URL}garage?_page=1&_limit=7`)).headers.get("X-Total-Count")}catch(e){return(0,s.default)()}})),t.getSpecificCar=e=>n(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${i.Server.URL}garage/${e}`);return yield t.json()}catch(e){return(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.createCar=(e,t)=>n(void 0,void 0,void 0,(function*(){const r=(0,o.createCarData)(e,t);try{yield fetch(`${i.Server.URL}garage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.deleteCar=e=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i.Server.URL}garage/${e}`,{method:"DELETE"})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.updateCar=(e,t,r)=>n(void 0,void 0,void 0,(function*(){const n=(0,o.createCarData)(e,t);try{yield fetch(`${i.Server.URL}garage/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.startStopCarEngine=(e,t)=>n(void 0,void 0,void 0,(function*(){try{const r=yield fetch(`${i.Server.URL}engine?id=${e}&status=${t}`,{method:"PATCH"});return yield r.json()}catch(e){return(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.startCarDrive=e=>n(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${i.Server.URL}engine?id=${e}&status=drive`,{method:"PATCH"});return t.status!==i.DriveStatus.engineBroken&&t.status!==i.DriveStatus.finished&&(0,s.default)(t.status),t.status}catch(e){return(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.getAllWinners=()=>n(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${i.Server.URL}winners`);return yield e.json()}catch(e){return(0,s.default)()}})),t.getNumOfWinners=()=>n(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${i.Server.URL}winners?_page=1&_limit=10`)).headers.get("X-Total-Count")}catch(e){return(0,s.default)()}})),t.getWinnersForPage=(e,t="time",r="ASC")=>n(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${i.Server.URL}winners?_page=${e}&_limit=10&_sort=${t}&_order=${r}`);return yield n.json()}catch(e){return(0,s.default)()}})),t.getSpecificWinner=e=>n(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${i.Server.URL}winners/${e}`);return yield t.json()}catch(e){return(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.createWinner=(e,t,r)=>n(void 0,void 0,void 0,(function*(){try{const n=(0,o.createWinnerData)(t,r,e);yield fetch(`${i.Server.URL}winners`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.deleteWinner=e=>n(void 0,void 0,void 0,(function*(){try{yield fetch(`${i.Server.URL}winners/${e}`,{method:"DELETE"})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}})),t.updateWinner=(e,t,r)=>n(void 0,void 0,void 0,(function*(){try{const n=(0,o.createWinnerData)(t,r);yield fetch(`${i.Server.URL}winners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){(0,s.default)(i.ErrorDataStatus.unexpectedError)}}))},308:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.forwardUpdateFuncToButton=t.updateCarsContent=t.createCarsContentWrapper=t.createCarsView=t.stopCar=t.startCar=void 0;const d=r(60),u=i(r(313)),l=s(r(904)),c=s(r(502)),f=s(r(362)),p=r(349),v=s(r(634)),h=s(r(495)),g=r(403),m=s(r(870)),b=e=>{const t=(()=>{const e=(0,u.default)("h2","garage-title");return e.innerHTML="Garage",e})(),r=(e=>{const t=(0,u.default)("div","cars-counter-wrapper"),r=(0,u.default)("p","cars-counter-title"),n=(0,u.default)("p","cars-counter");return f.default.carsCounter=n,r.innerHTML="Total cars in the garage",n.innerHTML=e,t.append(r,n),t})(e),n=(0,u.default)("div","cars-content-header");return n.append(t,r),n};t.startCar=(e,t,r,n,a)=>o(void 0,void 0,void 0,(function*(){h.default.startedCarsCounter+=1;const i=r,o=n,s=yield(0,p.startStopCarEngine)(a.id,"started");if(!s)return;const u=s.distance/s.velocity,l=document.body.clientWidth;if(i.style.transition=`${u}ms`,i.style.marginLeft=l-d.RaceValues.carWidth-2*d.RaceValues.wrapperPadding+"px",e.setAttribute("disabled",""),h.default.startRaceButton.classList.contains("active")||t.removeAttribute("disabled"),h.default.startRaceButton.setAttribute("disabled",""),h.default.stoppedCars.clear(),h.default.finishedCars=[],s){h.default.startedCars.push(s),(0,g.handlerRaceButtons)();const e=yield(0,p.startCarDrive)(a.id);if(e===d.DriveStatus.engineBroken){if(h.default.stoppedCars.has(a.id))return void h.default.stoppedCars.delete(a.id);o.innerHTML=`Oops! engine ${a.name} is broken!`,console.log(`Oops! engine ${a.name} is broken!`),i.style.transition=d.RaceValues.transitionDefault,i.style.marginLeft=i.offsetLeft-d.RaceValues.wrapperPadding+"px",yield(0,p.startStopCarEngine)(a.id,"stopped"),h.default.raceCarsStatus.push(e)}if(e===d.DriveStatus.finished)if(h.default.stoppedCars.has(a.id))h.default.stoppedCars.delete(a.id);else{const t=Date.now();if(0===h.default.finishedCars.length&&h.default.startRaceTime){const e=t-h.default.startRaceTime,r=(e/1e3).toFixed(2);(0,m.default)(`The winner is ${a.name}! Time: ${r}s`),(0,g.addWinner)(a,e)}h.default.finishedCars.push({carObj:a,timeStamp:t}),h.default.raceCarsStatus.push(e)}}})),t.stopCar=(e,t,r,n,a)=>o(void 0,void 0,void 0,(function*(){h.default.startedCarsCounter-=1;const i=r,o=n;i.style.transition=d.RaceValues.transitionDefault,i.style.marginLeft=d.RaceValues.marginDefault,o.innerHTML="",e.removeAttribute("disabled"),t.setAttribute("disabled",""),h.default.stoppedCars.add(a.id),h.default.startedCars=[],0===h.default.startedCarsCounter&&(h.default.startRaceButton.classList.remove("active"),h.default.startRaceButton.removeAttribute("disabled")),yield(0,p.startStopCarEngine)(a.id,"stopped")})),t.createCarsView=e=>{const r=[];return h.default.carElementsForRace=[],e.forEach((e=>{const n=(0,u.default)("div","car-view-wrapper"),a=(0,u.default)("button","car-select-button"),i=(0,u.default)("button","car-remove-button");a.id=e.id.toString(),i.id=e.id.toString(),a.innerHTML="Select",i.innerHTML="Remove",a.addEventListener("click",(()=>{f.default.selectedCarId=Number(a.id),f.default.updateInputElement.focus()})),i.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){const e=Number(i.id);(0,p.deleteCar)(e);const t=yield(0,p.getAllWinners)();t&&t.forEach((t=>{t.id===e&&(0,p.deleteWinner)(e)}));const r=Number(v.default.pageCounter.innerHTML);f.default.listenerButtonUpdater(r)}))));const s=(0,u.default)("p","car-title"),d=(0,u.default)("p","car-engine-status"),g=(0,u.default)("button","car-start-button"),m=(0,u.default)("button","car-stop-button"),b=(0,u.createSVGImage)(l.default,"car-image-wrapper","car-image-icon",e),_=(0,u.createSVGImage)(c.default,"finish-image-wrapper","finish-image-icon"),y=(0,u.default)("hr","car-road");s.innerHTML=e.name,g.innerHTML="Start",m.innerHTML="Stop",m.setAttribute("disabled",""),g.addEventListener("click",(()=>{(0,t.startCar)(g,m,b,d,e)})),m.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){(0,t.stopCar)(g,m,b,d,e)})))),h.default.carElementsForRace.push({carStartButton:g,carStopButton:m,carImage:b,carStatus:d,car:e}),n.append(a,i,d,s,g,m,_,b,y),r.push(n)})),r};const _=e=>{const r=(0,t.createCarsView)(e),n=(0,u.default)("div","cars-view-wrapper");return n.append(...r),n};t.createCarsContentWrapper=(e,t)=>{const r=b(t),n=_(e),a=(0,u.default)("div","cars-content-wrapper");return f.default.carsContentWrapper=a,a.append(r,n),a},t.updateCarsContent=e=>o(void 0,void 0,void 0,(function*(){const t=yield(0,p.getCarsForPage)(e),r=yield(0,p.getNumOfCars)();if(r&&t){const e=b(r),n=_(t);f.default.carsContentWrapper.innerHTML="",f.default.carsContentWrapper.append(e,n)}})),t.forwardUpdateFuncToButton=()=>{f.default.listenerButtonUpdater=t.updateCarsContent}},613:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(313)),i=r(349),o=n(r(362)),s=n(r(634)),d=r(308),u=n(r(161)),l=n(r(495)),c=n(r(870)),f=r(803),p=(e,t,r)=>{const n=(0,a.default)("input",e);return n.type=t,r&&(n.value=r),n},v=(e,t,r,n,i,u,l)=>{const p=(0,a.default)("button",e);return p.innerHTML=t,l?p.addEventListener("click",(()=>{((e,t,r)=>{if(!e.value)return void(0,c.default)("Enter the name of the auto!");const n=e,a=t,i=o.default.selectedCarId;if(i){r(n.value,a.value,i),n.value="",a.value="#FFFFFF",o.default.selectedCarId=0;const e=Number(s.default.pageCounter.innerHTML);(0,d.updateCarsContent)(e)}else(0,c.default)("Select a car!")})(r,n,u)})):p.addEventListener("click",(()=>{((e,t,r)=>{if(!e.value)return void(0,c.default)("Enter the name of the auto!");const n=e,a=t;r(n.value,a.value),n.value="",a.value="#FFFFFF";const i=Number(s.default.pageCounter.innerHTML);(0,d.updateCarsContent)(i),(0,f.updatePagination)()})(r,n,i)})),p},h=(e,t,r,n)=>{const s=p("input-car-name","text"),d=p("input-car-color","color","#FFFFFF");let u;n?(o.default.updateInputElement=s,u=v(e,t,s,d,i.createCar,i.updateCar,!0)):u=v(e,t,s,d,i.createCar,i.updateCar);const l=(0,a.default)("div",r);return l.append(s,d,u),l},g=(e,t,r)=>{const n=(0,a.default)("button",e);return n.innerHTML=t,n.addEventListener("click",(()=>{"race-start-button"===e?l.default.startRaceTime=Date.now():"race-stop-button"===e&&(l.default.startRaceTime=0),l.default.raceCarsStatus=[],l.default.startedCars=[],l.default.carElementsForRace.forEach((t=>{"race-start-button"===e&&(t.carStartButton.setAttribute("disabled",""),t.carStopButton.setAttribute("disabled",""),n.classList.add("active"),n.setAttribute("disabled","")),"race-stop-button"===e&&(n.setAttribute("disabled",""),l.default.startRaceButton.classList.remove("active"),l.default.startRaceButton.removeAttribute("disabled")),r(t.carStartButton,t.carStopButton,t.carImage,t.carStatus,t.car)}))})),"race-start-button"===e?l.default.startRaceButton=n:(n.setAttribute("disabled",""),l.default.stopRaceButton=n),n};t.default=()=>{const e=h("car-create-button","create","car-create-wrapper"),t=h("car-update-button","update","car-update-wrapper",!0),r=(()=>{const e=(0,a.default)("button","hundred-cars-button");return e.innerHTML="Generate cars",e.addEventListener("click",(()=>{(0,u.default)();const e=Number(s.default.pageCounter.innerHTML);(0,d.updateCarsContent)(e),(0,f.updatePagination)()})),e})(),n=g("race-start-button","Start race",d.startCar),i=g("race-stop-button","Stop race",d.stopCar),o=(0,a.default)("div","control-panel-wrapper");return o.append(e,t,r,n,i),o}},906:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(349),o=a(r(362)),s=a(r(313)),d=r(308),u=a(r(613)),l=a(r(803));t.default=()=>n(void 0,void 0,void 0,(function*(){const e=yield(0,i.getCarsForPage)(),t=yield(0,i.getNumOfCars)();if(!e||!t)return;const r=(0,s.default)("div","garage-page"),n=(0,u.default)(),a=(0,d.createCarsContentWrapper)(e,t),c=yield(0,l.default)();return(0,d.forwardUpdateFuncToButton)(),r.append(n,a,c),o.default.garagePageWrapper=r,r}))},161:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(349),a=e=>{const t=Math.random()*e;return Math.trunc(t)},i=()=>{const e=a(10),t=a(10),r=(()=>{const e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];let t="#";for(let r=1;r<7;r+=1)t+=e[a(16)];return t})();return{carName:`${["Aston Martin","BMW","Audi","Mercedes","Volkswagen","Jaguar","Skoda","McLaren","Mazda","Lexus"][e]} ${["Model One","Model Two","Model Three","Model Four","Model Five","Sport Concept","Coupe","Electric Concept","Turbo","Custom Model"][t]}`,carColor:r}};t.default=()=>{for(let e=0;e<100;e+=1){const e=i();(0,n.createCar)(e.carName,e.carColor)}}},803:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updatePagination=void 0;const i=a(r(313)),o=r(60),s=a(r(634)),d=r(349),u=r(308),l=e=>{const t=(0,i.default)("div","page-counter-wrapper"),r=(0,i.default)("p","page-counter-title"),n=(0,i.default)("p","page-counter");return s.default.pageCounter=n,r.innerHTML="Page:",n.innerHTML=e||"1",t.append(r,n),t},c=()=>n(void 0,void 0,void 0,(function*(){const e=(0,i.default)("button","pagination-prev-button"),t=(0,i.default)("button","pagination-next-button");e.innerHTML="Previous",t.innerHTML="Next",e.setAttribute("disabled","");const r=Number(yield(0,d.getNumOfCars)());return(r/o.MaxCars.carsOnPage<1||r/o.MaxCars.carsOnPage==1)&&t.setAttribute("disabled",""),e.addEventListener("click",(()=>{let r=Number(s.default.pageCounter.innerHTML);t.removeAttribute("disabled"),r-=1,1===r&&e.setAttribute("disabled",""),s.default.pageCounter.innerHTML=r.toString(),(0,u.updateCarsContent)(r)})),t.addEventListener("click",(()=>n(void 0,void 0,void 0,(function*(){let r=Number(s.default.pageCounter.innerHTML);const n=Number(yield(0,d.getNumOfCars)());let a=Math.trunc(n/o.MaxCars.carsOnPage);n%o.MaxCars.carsOnPage!=0&&(a+=1),r<a&&(e.removeAttribute("disabled"),r+=1,r===a&&t.setAttribute("disabled",""),s.default.pageCounter.innerHTML=r.toString(),(0,u.updateCarsContent)(r))})))),{prevButton:e,nextButton:t}}));t.updatePagination=()=>n(void 0,void 0,void 0,(function*(){const e=s.default.pageCounter.innerHTML,t=l(e),r=yield c();s.default.paginationGarageWrapper.innerHTML="",s.default.paginationGarageWrapper.append(r.prevButton,t,r.nextButton)})),t.default=()=>n(void 0,void 0,void 0,(function*(){const e=(0,i.default)("div","pagination-wrapper"),t=l(),r=yield c();return e.append(r.prevButton,t,r.nextButton),s.default.paginationGarageWrapper=e,e}))},403:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addWinner=t.getWinner=t.handlerRaceButtons=void 0;const i=a(r(495)),o=a(r(362)),s=r(60),d=r(349);t.handlerRaceButtons=()=>{const e=Number(o.default.carsCounter.innerHTML);e>=s.MaxCars.carsOnPage&&i.default.startedCars.length===s.MaxCars.carsOnPage&&i.default.stopRaceButton.removeAttribute("disabled"),e<s.MaxCars.carsOnPage&&i.default.startedCars.length===e&&i.default.stopRaceButton.removeAttribute("disabled")};const u=()=>n(void 0,void 0,void 0,(function*(){const e=[];i.default.finishedCars.forEach((t=>{const r=t.timeStamp-i.default.startRaceTime,n=t.carObj;e.push({currentCar:n,raceTime:r})})),e.sort(((e,t)=>e.raceTime-t.raceTime));const t=e[0].currentCar.id,r=e[0].raceTime,n=yield(0,d.getAllWinners)();let a=!1;if(n&&n.forEach((e=>{e.id===t&&(a=!0)})),a){const e=yield(0,d.getSpecificWinner)(t);if(!e)return;e.time>r&&(e.time=r),e.wins+=1,yield(0,d.updateWinner)(e.id,e.wins,e.time)}else{const e=1;(0,d.createWinner)(t,e,r)}}));t.getWinner=()=>{const e=Number(o.default.carsCounter.innerHTML);e>=s.MaxCars.carsOnPage&&i.default.raceCarsStatus.length===s.MaxCars.carsOnPage&&u(),e<s.MaxCars.carsOnPage&&i.default.raceCarsStatus.length===e&&u()},t.addWinner=(e,t)=>n(void 0,void 0,void 0,(function*(){const r=e.id,n=t,a=yield(0,d.getAllWinners)();let i=!1;if(a&&a.forEach((e=>{e.id===r&&(i=!0)})),i){const e=yield(0,d.getSpecificWinner)(r);if(!e)return;e.time>n&&(e.time=n),e.wins+=1,yield(0,d.updateWinner)(e.id,e.wins,e.time)}else{const e=1;(0,d.createWinner)(r,e,n)}}))},362:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},495:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r{}r.startedCarsCounter=0,r.startedCars=[],r.stoppedCars=new Set,r.finishedCars=[],r.carElementsForRace=[],r.raceCarsStatus=[],t.default=r},715:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r{}r.sortState={sortType:"time",orderType:"ASC"},t.default=r},60:(e,t)=>{var r,n,a,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorValues=t.ErrorDataStatus=t.Server=t.DriveStatus=t.MaxCars=t.RaceValues=void 0,(o=t.RaceValues||(t.RaceValues={}))[o.wrapperPadding=20]="wrapperPadding",o[o.carWidth=120]="carWidth",o.marginDefault="0",o.transitionDefault="0s",(i=t.MaxCars||(t.MaxCars={}))[i.carsOnPage=7]="carsOnPage",i[i.winnersOnPage=10]="winnersOnPage",(a=t.DriveStatus||(t.DriveStatus={}))[a.finished=200]="finished",a[a.engineBroken=500]="engineBroken",(t.Server||(t.Server={})).URL="https://async-race-api-95ws.onrender.com/",(n=t.ErrorDataStatus||(t.ErrorDataStatus={}))[n.invalidContent=204]="invalidContent",n[n.unexpectedError=1]="unexpectedError",(r=t.ErrorValues||(t.ErrorValues={})).serverResponseErrorTitle="Something went wrong!<br>Unable to get response from server.",r.serverResponseErrorMessage='The server is located on \'<a class="message-server-link" target="_blank" href="https://render.com">render.com</a>\', sometimes it takes a little longer to respond. Please try again later or reloading the application.',r.serverDataErrorTitle="Something went wrong!<br>Error: 204. Invalid content.",r.serverDataErrorMessage="The server is sending incorrect data. Please restart the app or try again later.",r.driveResponseErrorTitle="Something went wrong with server!",r.driveResponseErrorMessage='Perhaps the reason is the behavior of asynchronous server functions.<br>You can try reload the app and don\'t spam the start and stop buttons.<br>Read about problems with the server in the task\'s discord channel (you can find their analysis by the keywords "drive" and "drive 404")',r.minorResponseErrorType="Unexpected error",r.minorResponceErrorMessage="Perhaps there are problems with the connection or with sending valid data from the server. Please try restarting the app or check back later."},904:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="682.667" height="252" viewBox="0 0 512 189"><path d="M10.5 10.5c-1.4 1.3-2.5 3.6-2.5 5s3.2 8.9 7 16.6l7.1 14-3.1 3.5-3 3.5V83l-7 3.5c-3.8 1.9-7.4 4.4-8 5.4-1.6 3.1-1.3 37.4.4 41.5 4 9.6 25.1 18.9 64.1 28.1l16 3.8 5.8 5.4c6.7 6.1 13.1 9.6 21.4 11.8 14.6 3.8 31.7-.4 42.8-10.6l4.2-3.9h208.6l4.4 4.1c5.6 5.1 15.4 9.7 23.8 11.2 13.2 2.3 29.3-2.5 39-11.4l4.6-4.3 30.2-3.8c16.6-2 31.2-4 32.4-4.3 1.3-.3 2.9-1.5 3.7-2.8 1.8-2.8 10-52 9.2-55.2-1.4-5.4-22.2-18.3-42.4-26.3-28.8-11.4-62.1-17.5-103.2-18.8-16.6-.6-17.8-.8-23.9-3.5-3.5-1.6-14.5-8.3-24.5-14.8-31.4-20.6-44-26.7-59.9-29.2-9.6-1.5-56.2-.5-73.2 1.6-27.3 3.3-63.1 9.8-96 17.4l-13 3-2.5-3.2c-5.5-7.2-14.7-16.1-18.5-17.8C51.1 8.3 47.8 8 31.7 8c-18.6 0-18.8 0-21.2 2.5zm42.8 18.7c2.7 2.9 7 8.1 9.4 11.6 2.6 3.6 5.5 6.5 6.8 6.8 1.3.3 9.3-1 17.7-2.9 44.6-10.2 72.3-15.3 103.8-18.9 6.8-.8 22.7-1.3 39-1.3 26.3 0 27.8.1 34.5 2.4 10.3 3.4 21.4 9.6 43.3 24 29 18.9 34.1 21.1 49.6 21.1 22 0 52.5 3.4 72.9 8.1 8.9 2.1 9.7 2.4 10.9 5.3 1.9 4.6 7.5 10.4 14.2 14.8l5.9 3.8h15c16.3 0 18.7.7 18.7 5.7 0 2.1-.4 2.3-5 2.3-4.1 0-5.6.5-7.5 2.5-2.2 2.1-2.5 3.3-2.5 9.5s.3 7.4 2.5 9.5c1.3 1.4 3.6 2.5 5.1 2.5 2.5 0 2.6.2 2.1 4.1-.3 2.2-.7 4.2-.9 4.4-.5.5-42 5.7-42.3 5.3-.2-.2 0-2.1.5-4.3 5.6-23.9-10.8-49.5-35.7-56-33.7-8.8-66.6 23.8-57.9 57.3l1.3 5.2H165.3l1.3-5.2c6.4-24.4-9.8-50.7-35.1-57.3-15.8-4.1-32.3.5-44.7 12.3-10.3 9.8-15.6 23.7-14.5 38 .5 6.5.4 7.2-1.1 6.8-.9-.3-5.5-1.5-10.2-2.6-19.5-4.9-39.1-11.9-43.1-15.6-1.7-1.5-1.9-3.3-1.9-14.5V101l5-2.5c4.1-2.1 6.3-2.5 13.5-2.5 7.8 0 8.8-.2 11-2.5C47.9 91.2 48 90.4 48 80s-.1-11.2-2.5-13.5c-2-2.1-3.4-2.5-8-2.5-5 0-5.5-.2-5.5-2.1 0-1.2 1.8-4.1 4-6.5 2.5-2.7 4-5.3 4-6.9 0-1.4-2.5-7.5-5.5-13.5L29 24h19.4l4.9 5.2zm81.8 78.9c6.7 3.6 9.8 6.8 13.7 14.3 2.2 4.3 2.6 6.4 2.6 13.6.1 7.8-.2 9-3.3 14.8-3.8 7-7 10-14.5 14-4.3 2.2-6.4 2.6-13.6 2.6-7.2 0-9.3-.4-13.6-2.6-7.5-4-10.7-7-14.5-14-3.1-5.8-3.4-7-3.3-14.8 0-7.2.4-9.3 2.6-13.6 3.8-7.3 6.9-10.6 12.9-13.9 7.1-3.8 10.2-4.5 18.2-4 5.1.3 8.1 1.1 12.8 3.6zm280 0c6.7 3.6 9.8 6.8 13.7 14.3 2.2 4.3 2.6 6.4 2.6 13.6.1 7.8-.2 9-3.3 14.8-3.8 7-7 10-14.5 14-4.3 2.2-6.4 2.6-13.6 2.6-7.2 0-9.3-.4-13.6-2.6-7.5-4-10.7-7-14.5-14-3.1-5.8-3.4-7-3.3-14.8 0-7.2.4-9.3 2.6-13.6 3.8-7.3 6.9-10.6 12.9-13.9 7.1-3.8 10.2-4.5 18.2-4 5.1.3 8.1 1.1 12.8 3.6z"/><path d="M205.5 32.7c-7.3.5-9.2 1.1-11.5 3.5-1.8 2-2 3.5-2 16.5 0 13.9.1 14.5 2.5 16.8l2.4 2.5H301.2l2.9-2.9c5.6-5.6 3.6-8.8-12-19-6-3.9-14.7-8.9-19.2-11.1-13.5-6.4-17.4-7-41.4-6.8-11.5.1-23.2.3-26 .5zM157.6 39c-5.7 1.1-11.1 2.7-12.5 3.8-9.6 7.1-9.5 19.4.2 26.6 2.4 1.8 4.6 2.2 14.2 2.4 11.1.4 11.5.3 14-2.2 2.4-2.4 2.5-3 2.5-14.5 0-11-.2-12.2-2.2-14.5-3.2-3.5-5-3.6-16.2-1.6zM193.5 105.4c-6.6 2.9-10.5 10.6-9.1 18.1 1.9 9.8 15.1 16.1 21.1 10 2.4-2.3 2.5-3.1 2.5-13.5s-.1-11.2-2.5-13.5c-2.7-2.8-7.2-3.2-12-1.1zM113.5 121.4c-10.1 4.4-12.5 17.8-4.6 25.7 6.5 6.5 15.7 6.5 22.2 0 12.4-12.4-1.5-32.7-17.6-25.7zM393.5 121.4c-10.1 4.4-12.5 17.8-4.6 25.7 6.5 6.5 15.7 6.5 22.2 0 12.4-12.4-1.5-32.7-17.6-25.7z"/></svg>'},750:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(870),a=r(60);t.default=e=>{e===a.ErrorDataStatus.invalidContent?(0,n.createServerErrorModalWindow)(a.ErrorValues.serverDataErrorTitle,a.ErrorValues.serverDataErrorMessage):e===a.ErrorDataStatus.unexpectedError?(0,n.createMinorErrorModalWindow)():e?(0,n.createDriveErrorModalWindow)(e):(0,n.createServerErrorModalWindow)(a.ErrorValues.serverResponseErrorTitle,a.ErrorValues.serverResponseErrorMessage)}},502:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg version="1.0" fill="#fc49ff" xmlns="http://www.w3.org/2000/svg" width="682.667" height="682.667" viewBox="0 0 512 512"><path d="M16.2 7.8C.5 13.4-4.8 32 5.5 45.4c2.8 3.7 11.4 8.6 15 8.6 1.8 0 16.1 29.3 101.5 206.7 54.7 113.8 103.3 214.9 108.1 224.8 9.6 19.7 11.2 21.5 18.8 21.5 3.3 0 4.7-.6 7.7-3.6 3.3-3.4 3.6-4.1 3.2-8.3-.4-3.5-12.6-29.7-49.6-106.5-27.1-56-49.2-102.1-49.2-102.5 0-1.1 16.6-12.4 26-17.7 15.8-9 36.7-16.1 57.5-19.5 11.7-1.9 38.2-1.4 51.6.9 19.2 3.5 36.6 9.6 54.6 19.4 29.4 16 54.7 22.8 85.2 22.8 20.2 0 37.9-2.9 57.1-9.5 10-3.4 13.6-6 16.7-12.3 2-4.1 2.4-6.2 2.1-9.7-.8-6.8-98-208.6-103-213.6-2.7-2.7-5-4-9-4.9-5-1.1-6-.9-18.3 2.8-21.6 6.7-27.7 7.7-47.5 7.6-27.7-.1-42.9-4.1-74-19.5-27-13.3-42-18.5-65.5-22.5-13.5-2.3-43.1-2.3-57.5 0-31.5 5-60.4 16.9-84.7 34.8L47.1 49l-1.4-2.7c-1.3-2.3-1.2-3.1.4-6.7 3.6-8 2-18.3-3.8-24.7-7.1-7.8-16.6-10.4-26.1-7.1zm188.3 29.1c13.2 3.2 24.6 7.7 44.3 17.4 10.3 5.1 20.3 9.9 22.2 10.7 3.1 1.4 4.2 3.2 13.6 23 5.6 11.8 10.1 21.6 10 21.7-.1.1-4.6-2-10.1-4.7-13.2-6.5-31.3-12.4-46-15-6.6-1.1-13.5-2.4-15.4-2.8-3.3-.7-3.7-1.3-15.7-26.5-6.7-14.1-11.9-25.7-11.6-25.7.4 0 4.3.9 8.7 1.9zm-74 31.6c7.4 15.4 13.4 28.2 13.5 28.5 0 .3-2.8 1.6-6.2 2.9-13.1 4.9-32.4 16.1-44.7 26-3.5 2.9-6.7 4.8-7.1 4.4-.3-.4-6.9-13.8-14.5-29.7l-14-28.8 3.5-3c6.1-5.2 21.2-14.8 29.8-19 11.3-5.5 22.3-9.8 24.5-9.5 1.4.1 5.4 7.6 15.2 28.2zm276.6 26.6c7.4 15.4 13.2 28.4 13 28.7-1.5 2.8-30 7.4-42.9 7l-9.4-.3-12.4-25.9C348.6 90.3 343 78.3 343 77.9c0-.4 2.6-1 5.8-1.3 9.2-1 26.1-4.4 34.2-7 4.1-1.4 8.2-2.5 9.1-2.5 1-.1 5.6 8.5 15 28zm-188.5-6.3c.9.5 30.4 61.2 33.2 68.1.4 1.1-.9 1.2-7.4.7-13.9-1.2-36.7 1.7-55.7 7.1-4.9 1.4-9.3 2.1-9.7 1.7-.5-.5-7.7-15.3-16-32.9-8.4-17.6-15.6-32.7-16.1-33.7-.7-1.4.3-2 6.4-3.8 10.1-3.1 24.8-6.1 34.2-7 10.9-1 29.7-1.1 31.1-.2zm104.9 35.5c12.7 4.1 20.2 5.8 32.3 7.2 6.3.7 11.5 1.5 11.6 1.7 1.2 1.3 32.5 68.2 32.1 68.6-.9.9-24.8-2.9-33-5.3-11.3-3.3-22.6-7.7-29.8-11.8l-5.8-3.2-16-33.4c-8.7-18.3-15.9-33.5-15.9-33.7 0-.1 3.7 1.4 8.3 3.5 4.5 2.1 11.8 5 16.2 6.4zm-47 38.3c13 2.6 28.7 8.2 41.7 14.8l12.2 6.1 14.7 31c8.1 17 14.6 31.1 14.4 31.3-.2.2-2.5-.8-5.2-2.1-16.4-8.3-39.2-15.4-58.6-18.3-5.6-.8-10.2-1.6-10.4-1.7-.4-.4-30.3-63.4-30.3-63.9 0-.7 12.3.9 21.5 2.8zm-82.9 38.2c7.9 16.7 14.4 30.7 14.4 31.2 0 .4-3.3 2.1-7.2 3.6-12.6 4.7-27.7 12.5-39 20.1-6.1 4-11.3 7.3-11.7 7.3-.3 0-7-13.4-14.9-29.8l-14.3-29.7 4.3-3.8c12.7-11.2 46.1-30.1 52.1-29.4 1.3.1 5.7 8.3 16.3 30.5zm277.3 26.8c8.4 17.4 15.1 31.7 14.9 31.9-.2.1-2.5 1-5.3 1.9-9.8 3.3-23.2 5.7-35 6.3l-12.1.6-15.2-31.9c-8.3-17.6-15.2-32.2-15.2-32.5 0-.3 3.9-.6 8.8-.8 12.1-.2 23.2-1.7 33.7-4.5 5-1.3 9.3-2.4 9.6-2.5.3 0 7.4 14.1 15.8 31.5z"/></svg>'},6:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="#fc49ff" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>'},870:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMinorErrorModalWindow=t.createDriveErrorModalWindow=t.createServerErrorModalWindow=t.createErrorWrapper=void 0;const a=n(r(313)),i=n(r(362)),o=r(60);t.createErrorWrapper=(e,t,r,n)=>{const i=(0,a.default)("div",e),o=(0,a.default)("p","modal-error-message-title"),s=(0,a.default)("p","modal-error-message");if(o.innerHTML=t,s.innerHTML=r,n){o.innerHTML+=` Error: ${n}`;const e=(0,a.default)("button","modal-minor-error-button");e.innerHTML="X",e.addEventListener("click",(()=>{i.remove()})),i.append(e,o,s)}else i.append(o,s);document.body.append(i)},t.createServerErrorModalWindow=(e,r)=>{const n=document.body.children;Array.of(...n).find((e=>e.classList.contains("modal-error-wrapper")))||(0,t.createErrorWrapper)("modal-error-wrapper",e,r)},t.createDriveErrorModalWindow=e=>{(0,t.createErrorWrapper)("modal-error-minor-wrapper",o.ErrorValues.driveResponseErrorTitle,o.ErrorValues.driveResponseErrorMessage,e)},t.createMinorErrorModalWindow=()=>{(0,t.createErrorWrapper)("modal-error-minor-wrapper",o.ErrorValues.driveResponseErrorTitle,o.ErrorValues.minorResponceErrorMessage,o.ErrorValues.minorResponseErrorType)},t.default=e=>{const t=(0,a.default)("div","modal-wrapper"),r=(0,a.default)("p","modal-message"),n=(0,a.default)("button","modal-close-button");r.innerHTML=e,n.innerHTML="X",n.addEventListener("click",(()=>{t.remove()})),t.append(n,r),i.default.garagePageWrapper.append(t)}},313:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSVGImage=void 0;const r=(e,t)=>{const r=document.createElement(e);return r.classList.add(t),r};t.createSVGImage=(e,t,n,a)=>{const i=r("div",t);i.innerHTML=e;const o=i.firstChild;return o.classList.add(n),a&&(o.style.fill=`${a.color}`),i},t.default=r},748:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg id="Layer_1" fill="#fc49ff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 552.8 205.3"><style>.st0{fill:#fff}.st1{clip-path:url(#SVGID_2_)}.st2{clip-path:url(#SVGID_4_)}.st3{clip-path:url(#SVGID_6_)}.st4{clip-path:url(#SVGID_8_)}.st5{fill:#fff;stroke:#000;stroke-width:4;stroke-miterlimit:10}.st6{clip-path:url(#SVGID_8_)}.st6,.st7{fill:none;stroke:#000;stroke-width:4;stroke-miterlimit:10}.st8,.st9{clip-path:url(#SVGID_10_)}.st9{fill:none;stroke:#000;stroke-width:4;stroke-miterlimit:10}</style><title>rs_school_js</title><path d="M285.4 68l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.9 3.6 6.9 5.4 12.2 5.4 3.9 0 7-.9 9.1-2.8 2-1.5 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.1-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4 6 4.2 9.6 11 10.7 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8s-5.3-2.8-9.2-2.8c-3.2 0-5.6.7-7.2 2-1.5 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.5 13.3 0 5.6-1.6 11.2-4.8 15.9-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8S286.1 77 285.4 68zM6.3 97.6V8.2h46.1c8.5 0 15.1.7 19.6 2.2 4.4 1.4 8.3 4.3 10.9 8.2 2.9 4.3 4.3 9.3 4.2 14.5.3 8.8-4.2 17.2-11.9 21.6-3 1.7-6.3 2.9-9.7 3.5 2.5.7 5 1.9 7.2 3.3 1.7 1.4 3.1 3 4.4 4.7 1.5 1.7 2.8 3.6 3.9 5.6l13.4 25.9H63L48.2 70.2c-1.9-3.5-3.5-5.8-5-6.9-2-1.4-4.4-2.1-6.8-2.1H34v36.3H6.3zM34 44.4h11.7c2.5-.2 4.9-.6 7.3-1.2 1.8-.3 3.4-1.3 4.5-2.8 2.7-3.6 2.3-8.7-1-11.8-1.8-1.5-5.3-2.3-10.3-2.3H34v18.1zM0 174.2l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.8 3.6 6.9 5.5 12.2 5.5 3.9 0 7-.9 9.1-2.8 2-1.6 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.2-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4s9.5 11 10.6 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8-2.2-1.9-5.3-2.8-9.2-2.7-3.2 0-5.6.7-7.2 2.1-1.6 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.6 13.2 0 5.6-1.7 11.1-4.8 15.8-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8-5.9-6-9.2-13.4-10-22.4z"/><path d="M133 167.2l24.2 7.3c-1.3 6.1-4 11.9-7.7 17-3.4 4.5-7.9 8-13 10.3-5.2 2.3-11.8 3.5-19.8 3.5-9.7 0-17.7-1.4-23.8-4.2-6.2-2.8-11.5-7.8-16-14.9-4.5-7.1-6.7-16.2-6.7-27.3 0-14.8 3.9-26.2 11.8-34.1s19-11.9 33.4-11.9c11.3 0 20.1 2.3 26.6 6.8 6.4 4.6 11.2 11.6 14.4 21l-24.4 5.4c-.6-2.1-1.5-4.2-2.7-6-1.5-2.1-3.4-3.7-5.7-4.9-2.3-1.2-4.9-1.7-7.5-1.7-6.3 0-11.1 2.5-14.4 7.6-2.5 3.7-3.8 9.6-3.8 17.6 0 9.9 1.5 16.7 4.5 20.4 3 3.7 7.2 5.5 12.7 5.5 5.3 0 9.3-1.5 12-4.4 2.7-3.1 4.7-7.4 5.9-13zm56.5-52.8h27.6v31.3h30.2v-31.3h27.8v89.4h-27.8v-36.2h-30.2v36.2h-27.6v-89.4z"/><path d="M271.3 159.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.3 4 34.4 12S364 144 364 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8s4.9-10.8 4.9-20.8c0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5zm93.4-.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.4 4 34.4 12S485 144 485 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8 3.3-3.9 4.9-10.8 4.9-20.8 0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10.1 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5z"/><path d="M482.1 114.4h27.6v67.4h43.1v22H482v-89.4z"/><ellipse transform="rotate(-37.001 420.46 67.88)" class="st0" cx="420.5" cy="67.9" rx="63" ry="51.8"/><defs><ellipse id="SVGID_1_" transform="rotate(-37.001 420.46 67.88)" cx="420.5" cy="67.9" rx="63" ry="51.8"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><g class="st1"><path transform="rotate(-37.001 420.82 68.353)" class="st0" d="M330.9-14.2h179.8v165.1H330.9z"/><g id="Layer_2_1_"><defs><path id="SVGID_3_" transform="rotate(-37.001 420.82 68.353)" d="M330.9-14.2h179.8v165.1H330.9z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" overflow="visible"/></clipPath><g id="Layer_1-2" class="st2"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st0" cx="420.5" cy="67.9" rx="63" ry="51.8"/><defs><ellipse id="SVGID_5_" transform="rotate(-37.001 420.46 67.88)" cx="420.5" cy="67.9" rx="63" ry="51.8"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" overflow="visible"/></clipPath><g class="st3"><path transform="rotate(-37 420.799 68.802)" class="st0" d="M357.8 17h125.9v103.7H357.8z"/><defs><path id="SVGID_7_" transform="rotate(-37 420.799 68.802)" d="M357.8 17h125.9v103.7H357.8z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" overflow="visible"/></clipPath><g class="st4"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st5" cx="420.5" cy="67.9" rx="63" ry="51.8"/></g><path transform="rotate(-37 420.799 68.802)" class="st6" d="M357.8 17h125.9v103.7H357.8z"/><ellipse transform="rotate(-37.001 420.46 67.88)" class="st7" cx="420.5" cy="67.9" rx="63" ry="51.8"/><path transform="rotate(-37 420.799 68.802)" class="st0" d="M357.8 17h125.9v103.7H357.8z"/><defs><path id="SVGID_9_" transform="rotate(-37 420.799 68.802)" d="M357.8 17h125.9v103.7H357.8z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" overflow="visible"/></clipPath><g class="st8"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st5" cx="420.5" cy="67.9" rx="63" ry="51.8"/></g><path transform="rotate(-37 420.799 68.802)" class="st9" d="M357.8 17h125.9v103.7H357.8z"/><path transform="rotate(-37.001 420.82 68.353)" class="st7" d="M330.9-14.2h179.8v165.1H330.9z"/></g><ellipse transform="rotate(-37.001 420.46 67.88)" class="st7" cx="420.5" cy="67.9" rx="63" ry="51.8"/><path d="M392.4 61.3l10-7 12.3 17.5c2.1 2.8 3.7 5.8 4.9 9.1.7 2.5.5 5.2-.5 7.6-1.3 3-3.4 5.5-6.2 7.3-3.3 2.3-6.1 3.6-8.5 4-2.3.4-4.7 0-6.9-1-2.4-1.2-4.5-2.9-6.1-5.1l8.6-8c.7 1.1 1.6 2.1 2.6 2.9.7.5 1.5.8 2.4.8.7 0 1.4-.3 1.9-.7 1-.6 1.7-1.8 1.6-3-.3-1.7-1-3.4-2.1-4.7l-14-19.7zm30 11.1l9.1-7.2c1 1.2 2.3 2.1 3.7 2.6 2 .6 4.1.2 5.8-1.1 1.2-.8 2.2-1.9 2.6-3.3.6-1.8-.4-3.8-2.2-4.4-.3-.1-.6-.2-.9-.2-1.2-.1-3.3.4-6.4 1.7-5.1 2.1-9.1 2.9-12.1 2.6-2.9-.3-5.6-1.8-7.2-4.3-1.2-1.7-1.8-3.7-1.9-5.7 0-2.3.6-4.6 1.9-6.5 1.9-2.7 4.2-5 7-6.8 4.2-2.9 7.9-4.3 11.1-4.3 3.2 0 6.2 1.5 9 4.6l-9 7.1c-1.8-2.3-5.2-2.8-7.5-1l-.3.3c-1 .6-1.7 1.5-2.1 2.6-.3.8-.1 1.7.4 2.4.4.5 1 .9 1.7.9.8.1 2.2-.3 4.2-1.2 5-2.1 8.8-3.3 11.4-3.7 2.2-.4 4.5-.2 6.6.7 1.9.8 3.5 2.2 4.6 3.9 1.4 2 2.2 4.4 2.3 6.9.1 2.6-.6 5.1-2 7.3-1.8 2.7-4.1 5-6.8 6.8-5.5 3.8-10 5.4-13.6 4.8-3.9-.6-7.1-2.6-9.4-5.5z"/></g></g></g></svg>'},843:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(313)),i=r(40),o=r(855),s=n(r(634));t.default=(e,t,r,n)=>{const d=(0,a.default)("button",e);return d.innerHTML=t,"to-winners-button"===e?d.addEventListener("click",(()=>{const e=Number(s.default.winnersPageCounter.innerHTML);(0,i.updateWinnersTable)(e),(0,o.updateWinnersPagination)(),r.classList.add("hidden"),n.classList.remove("hidden")})):d.addEventListener("click",(()=>{r.classList.add("hidden"),n.classList.remove("hidden")})),d}},104:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(r(313)),d=o(r(6)),u=o(r(748));t.default=()=>{const e=(0,s.default)("footer","app-footer"),t=(()=>{const e=(0,s.default)("a","github-link");e.href="https://github.com/ReWired25";const t=(0,s.createSVGImage)(d.default,"github-image","github-image-icon"),r=(0,s.default)("span","github-link-text");return r.innerHTML="ReWired25",e.append(t,r),e})(),r=(()=>{const e=(0,s.default)("p","app-year");return e.innerHTML="2022",e})(),n=(()=>{const e=(0,s.default)("a","rss-link");e.href="https://rs.school/js/";const t=(0,s.createSVGImage)(u.default,"rss-image","rss-image-icon");return e.append(t),e})();return e.append(t,r,n),e}},605:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(313));t.default=()=>{const e=(0,a.default)("h1","header-title");return e.innerHTML="Async race",e}},979:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(r(906)),o=a(r(516)),s=a(r(843)),d=a(r(313)),u=a(r(605)),l=a(r(104));t.default=()=>n(void 0,void 0,void 0,(function*(){const e=(0,u.default)(),t=(0,l.default)(),r=yield(0,i.default)(),n=yield(0,o.default)();if(r&&n){n.classList.add("hidden");const a=(0,s.default)("to-winners-button","To winners",r,n),i=(0,s.default)("to-garage-button","To garage",n,r),o=(0,d.default)("div","switch-pages-buttons");o.append(i,a),document.body.append(e,o,r,n,t)}}))},855:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWinnersPagination=void 0;const i=a(r(313)),o=r(60),s=a(r(634)),d=r(40),u=r(349),l=e=>{const t=(0,i.default)("div","page-counter-wrapper"),r=(0,i.default)("p","page-counter-title"),n=(0,i.default)("p","page-counter");return s.default.winnersPageCounter=n,r.innerHTML="Page:",n.innerHTML=e||"1",t.append(r,n),t},c=()=>n(void 0,void 0,void 0,(function*(){const e=(0,i.default)("button","pagination-prev-button"),t=(0,i.default)("button","pagination-next-button");e.innerHTML="Previous",t.innerHTML="Next",e.setAttribute("disabled","");const r=Number(yield(0,u.getNumOfWinners)());return(r/o.MaxCars.winnersOnPage<1||r/o.MaxCars.winnersOnPage==1)&&t.setAttribute("disabled",""),e.addEventListener("click",(()=>{let r=Number(s.default.winnersPageCounter.innerHTML);t.removeAttribute("disabled"),r-=1,1===r&&e.setAttribute("disabled",""),s.default.winnersPageCounter.innerHTML=r.toString(),(0,d.updateWinnersTable)(r)})),t.addEventListener("click",(()=>n(void 0,void 0,void 0,(function*(){let r=Number(s.default.winnersPageCounter.innerHTML);const n=Number(yield(0,u.getNumOfWinners)());let a=Math.trunc(n/o.MaxCars.winnersOnPage);n%o.MaxCars.winnersOnPage!=0&&(a+=1),r<a&&(e.removeAttribute("disabled"),r+=1,r===a&&t.setAttribute("disabled",""),s.default.winnersPageCounter.innerHTML=r.toString(),(0,d.updateWinnersTable)(r))})))),{prevButton:e,nextButton:t}}));t.updateWinnersPagination=()=>n(void 0,void 0,void 0,(function*(){const e=s.default.winnersPageCounter.innerHTML,t=l(e),r=yield c();s.default.paginationWinnersWrapper.innerHTML="",s.default.paginationWinnersWrapper.append(r.prevButton,t,r.nextButton)})),t.default=()=>n(void 0,void 0,void 0,(function*(){const e=(0,i.default)("div","pagination-wrapper"),t=l(),r=yield c();return e.append(r.prevButton,t,r.nextButton),s.default.paginationWinnersWrapper=e,e}))},40:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.forwardSortFuncToButton=t.updateDefaultServerWinner=t.updateWinnersTable=t.createWinnerPageTitle=void 0;const d=i(r(313)),u=s(r(904)),l=r(349),c=s(r(715)),f=s(r(634));t.createWinnerPageTitle=()=>o(void 0,void 0,void 0,(function*(){const e=(0,d.default)("div","winner-title-wrapper"),t=(0,d.default)("h2","winner-page-title"),r=(0,d.default)("p","winners-total-number"),n=yield(0,l.getNumOfWinners)();return c.default.totalWinners=r,t.innerHTML="Winners",r.innerHTML=`Total ${n} winners`,e.append(t,r),e}));const p=(e,t)=>{c.default.sortState.sortType===e&&(c.default.sortState.sortType=t),"ASC"===c.default.sortState.orderType?c.default.sortState.orderType="DESC":"DESC"===c.default.sortState.orderType&&(c.default.sortState.orderType="ASC");const r=Number(f.default.winnersPageCounter.innerHTML);c.default.listenerButtonUpdater(r)},v=()=>{const e=(0,d.default)("div","winners-table-header"),t=(0,d.default)("p","winner-number-title"),r=(0,d.default)("p","winner-car-title"),n=(0,d.default)("p","model-title"),a=(0,d.default)("button","winner-wins-title-button"),i=(0,d.default)("button","winner-time-title-button");a.addEventListener("click",(()=>{p("time","wins")})),i.addEventListener("click",(()=>{p("wins","time")})),t.innerHTML="Number",r.innerHTML="Car",n.innerHTML="Model",a.innerHTML="Wins",i.innerHTML="Best time";const o=c.default.sortState.sortType,s=c.default.sortState.orderType;return"wins"===o&&"ASC"===s&&(a.innerHTML+=" ↑"),"wins"===o&&"DESC"===s&&(a.innerHTML+=" ↓"),"time"===o&&"ASC"===s&&(i.innerHTML+=" ↑"),"time"===o&&"DESC"===s&&(i.innerHTML+=" ↓"),e.append(t,r,n,a,i),e},h=e=>o(void 0,void 0,void 0,(function*(){const t=(0,d.default)("div","winners-table-views-wrapper"),r=(()=>{let e;return e=f.default.winnersPageCounter?10*(Number(f.default.winnersPageCounter.innerHTML)-1):0,e})(),n=yield e.reduce(((e,t,n)=>o(void 0,void 0,void 0,(function*(){const a=yield e,i=r+n+1,s=yield(c=t,f=i,o(void 0,void 0,void 0,(function*(){const e=yield(0,l.getSpecificCar)(c.id);if(!e)return;const t=(0,d.default)("div","winner-wrapper"),r=(0,d.default)("p","winner-table-number"),n=(0,d.createSVGImage)(u.default,"car-table-image","car-table-icon",e),a=(0,d.default)("p","winner-table-model"),i=(0,d.default)("p","winners-table-wins-count"),o=(0,d.default)("p","winner-table-time");r.innerHTML=f.toString(),a.innerHTML=e.name,i.innerHTML=c.wins.toString();const s=(c.time/1e3).toFixed(2);return o.innerHTML=`${s}s`,t.append(r,n,a,i,o),t})));var c,f;return s&&a.push(s),a}))),new Promise((e=>{e([])})));return t.append(...n),t}));t.updateWinnersTable=e=>o(void 0,void 0,void 0,(function*(){const t=c.default.sortState,r=yield(0,l.getWinnersForPage)(e,t.sortType,t.orderType),n=v();if(r){const e=yield h(r),t=yield(0,l.getNumOfWinners)();c.default.totalWinners.innerHTML=`Total ${t} winners`,c.default.tableContent.innerHTML="",c.default.tableContent.append(n,e)}})),t.updateDefaultServerWinner=()=>o(void 0,void 0,void 0,(function*(){const e=yield(0,l.getSpecificWinner)(1);e&&10===e.time&&(yield(0,l.updateWinner)(e.id,e.wins,1e4))})),t.forwardSortFuncToButton=()=>{c.default.listenerButtonUpdater=t.updateWinnersTable},t.default=e=>o(void 0,void 0,void 0,(function*(){const t=(0,d.default)("div","winners-table-wrapper"),r=v(),n=yield h(e);return c.default.tableContent=t,t.append(r,n),t}))},516:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{d(n.next(e))}catch(e){i(e)}}function s(e){try{d(n.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=s(r(313)),u=r(349),l=i(r(40)),c=s(r(855));t.default=()=>o(void 0,void 0,void 0,(function*(){const e=yield(0,u.getWinnersForPage)(1);if(!e)return;const t=(0,d.default)("div","winners-page"),r=yield(0,l.createWinnerPageTitle)(),n=yield(0,l.default)(e),a=yield(0,c.default)();return(0,l.updateDefaultServerWinner)(),(0,l.forwardSortFuncToButton)(),t.append(r,n,a),t}))},519:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(373),(0,n(r(979)).default)()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(519)})();